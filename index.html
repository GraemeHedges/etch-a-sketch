<!DOCTYPE html>
<html>
<head>
  <title>Etch-a-Sketch by Graeme Hedges</title>
  <link href="stylesheet.css" rel="stylesheet">
  <meta charset="UTF-8"/>  
</head>
<body>
    <div class = "header">
        <h1>Etch-a-Sketch</h1>
    </div>
    <div id="buttons">
        <button id="resetButton">Reset</button>
    </div>
    <div id="container">
    </div>
    <script>
        const container = document.getElementById("container");
        const square = document.getElementsByClassName("square");
        const reset = document.getElementById("resetButton");

        
        function getSize(){
            let chosenSize = prompt("Enter a size");
            if (isNaN(chosenSize) || chosenSize > 128 || !chosenSize){
                alert("Please enter a number below 128");
                getSize();
            } else {
                return chosenSize; 
            }        
        }

        function drawGrid(x){
            let size = x;
            let totalSquares = size*size;
            let squareSide = 600/size; 
            for (i=1; i<=totalSquares;i++){
                let newDiv = document.createElement("div");
                container.style.gridTemplateColumns = `repeat(${size}, 1fr)`;
                container.appendChild(newDiv);
                newDiv.classList.add("square");
                newDiv.id =`square${i}`;
                newDiv.style.fontSize = "8px";
             }
        }

        container.addEventListener("mouseover", function(e){
            let y = document.getElementById(e.target.id);
            y.style.backgroundColor = "black";
        });

        reset.addEventListener("click", function(){
            while (container.lastElementChild) {
                container.removeChild(container.lastChild);
            }
            drawGrid(getSize());
        });

drawGrid(16);

    </script>
</body>
</html>